<%page args="section_data" expression_filter="h"/>
<%!
from django.utils.translation import ugettext as _
from openedx.core.djangolib.markup import HTML, Text
%>

<section>
  <p class="gradebook-name">
    <span class="copy-confirm">${_("Gradebook name:")} <strong>${ course.remote_gradebook.get('name') }</strong></span>
  </p>

  <hr>

  <h4 class="hd hd-4">${_("Remote gradebook enrollments")}</h4>
  <p>
    <input type="button" name="list-remote-enrolled-students" value="List enrolled students matching remote gradebook" data-endpoint="${ section_data['list_remote_enrolled_students_url'] }">
  </p>
  <p>
    ${_("Section name:")} <input type="text" name="section-name" size=40 />
  </p>
  <p>
    <input type="button" name="list-remote-students-in-section" value="List students in section in remote gradebook" data-endpoint="${ section_data['list_remote_students_in_section_url'] }">
  </p>

  <hr>

  <h4 class="hd hd-4">${_("Export grades to remote gradebook")}</h4>
  <p>
    ${_("The assignments defined for this course should match the ones stored in the gradebook, for this to work properly!")}
  </p>
  <p>
    <input type="button" name="list-remote-assignments" value="List assignments available in remote gradebook" data-endpoint="${ section_data['list_remote_assignments_url'] }">
    <input type="button" name="list-course-assignments" value="List assignments available for this course" data-endpoint="${ section_data['list_course_assignments_url'] }">
  </p>
  <p>
    ${_("Assignment name:")} <input type="text" name="assignment-name" size=40 />
  </p>
  <p>
    <input type="button" name="display-assignment-grades" value="Display grades for assignment" data-endpoint="${ section_data['display_assignment_grades_url'] }">
    <input type="button" name="export-assignment-grades-to-rg" value="Export grades for assignment to remote gradebook" data-endpoint="${ section_data['export_assignment_grades_to_rg_url'] }">
    <input type="button" name="export-assignment-grades-csv" value="Export CSV file of grades for assignment" data-endpoint="${ section_data['export_assignment_grades_csv_url'] }">
  </p>

  <hr>

  <p class="loading hidden">
    <span class="icon fa fa-spinner fa-spin fa-large" aria-hidden="true"></span>
  </p>
  <div id="errors"></div>
  <div id="results"></div>
</section>